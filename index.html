<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>Simulador ‚ÄúReducir volumen‚Äù (Windows) ‚Äî Educativo</title>
<link href="./disk-logo.png" rel="icon" type="image/png"/>
<link href="./style.css" rel="stylesheet"/>
<!-- CSS cr√≠tico (fallback por si style.css no carga) -->
<style>
body{margin:0;background:#f2f2f2;color:#111;font-family:"Segoe UI",system-ui,-apple-system,Roboto,Arial}
    .brand__logo{width:44px;height:44px;display:block}
    .js-warning{max-width:1100px;margin:10px auto 0;padding:0 18px}
    .js-warning__box{border:1px dashed #cfcfcf;background:#fff;border-radius:14px;padding:10px 12px;color:#111;font-size:13px;line-height:1.35rem;display:none;}
  </style>
</head>
<body>
<!-- Mensaje si app.js no est√° cargando -->
<div class="js-warning">
<div class="js-warning__box" id="jsNotRunning">
      ‚ö†Ô∏è Parece que <b>app.js</b> o <b>style.css</b> no se est√°n cargando en GitHub Pages (rutas o nombres).
      Revisa que los archivos est√©n en la <b>ra√≠z</b> del repo y se llamen exactamente:
      <b>index.html</b>, <b>style.css</b>, <b>app.js</b>, <b>disk-logo.png</b>.
    </div>
</div>
<header class="topbar">	
<div class="brand">
<!-- Fallback tama√±o fijo para que NO se haga gigante si falla CSS -->
<img alt="Logo" class="brand__logo" height="44" src="./disk-logo.png" width="44"/>
<div class="brand__text">
<h1>Simulador ‚ÄúReducir volumen‚Äù (Windows)</h1>
<p>Herramienta educativa para entender c√≥mo se divide el disco antes de instalar Linux.</p>
</div>
</div>
<div class="badge">
<span class="dot"></span>
<span>Solo simulaci√≥n ‚Äî NO toca discos reales</span>
</div>
</header>
<main class="container"><div class="instructions" role="note"><b>Indicaciones:</b> Abre Administraci√≥n de discos ‚Üí clic derecho en la partici√≥n de Windows (C:) ‚Üí Reducir volumen‚Ä¶ Copia los dos primeros n√∫meros exactamente como aparecen (en MB y sin comas ni puntos). Luego ajusta cu√°nto deseas reducir y mira el resultado a la derecha.</div>
<section class="card card--sim"><h2>Simulador</h2><div class="simLayout"><div class="simLeft"><div aria-label="Reducir C" class="winDialog" role="dialog"><div class="winTitlebar"><div class="winTitle">Reducir C:</div></div><div class="winContent"><div class="winRow"><label class="winLabel" for="totalBeforeMb">Tama√±o total antes de la reducci√≥n, en MB:</label><input autocomplete="off" class="winInput" id="totalBeforeMb" inputmode="numeric" placeholder="(vac√≠o)" type="text"/></div><div class="winRow"><label class="winLabel" for="shrinkAvailableMb">Espacio disponible para la reducci√≥n, en MB:</label><input autocomplete="off" class="winInput" id="shrinkAvailableMb" inputmode="numeric" placeholder="(vac√≠o)" type="text"/></div><div class="winRow"><label class="winLabel" for="shrinkDesiredMb">Tama√±o del espacio que desea reducir, en MB:</label><div class="winField"><input autocomplete="off" class="winInput" id="shrinkDesiredMb" inputmode="numeric" placeholder="(se llenar√° solo)" step="1" type="number"/><button class="winBtn winBtn--copy" id="copyShrinkBtn" type="button">Copiar</button></div></div><div class="winRow"><label class="winLabel" for="totalAfterMb">Tama√±o total despu√©s de la reducci√≥n, en MB:</label><input class="winInput" id="totalAfterMb" placeholder="(se calcular√°)" readonly="" type="text"/></div><div class="winInfo"><div aria-hidden="true" class="winInfoIcon">i</div><div class="winInfoText">No se puede reducir un volumen m√°s all√° del punto en el que haya alg√∫n archivo que no se pueda mover. Vea el evento "defrag" del registro de la aplicaci√≥n para obtener informaci√≥n detallada acerca de la operaci√≥n cuando se haya completado.</div></div><div class="winHelp">Vea "Reducir un volumen b√°sico" en la Ayuda de Administraci√≥n de discos para obtener m√°s informaci√≥n.</div></div><div class="winButtons"><button class="winBtn winBtn--primary" id="btnReduceFake" type="button">Reducir</button><button class="winBtn" id="btnCancelFake" type="button">Cancelar</button></div></div></div><div class="simRight"><div aria-label="Administrador de discos (simulaci√≥n)" class="dmWindow"><div class="dmTitlebar">Administrador de discos (simulaci√≥n)</div><div class="dmBody"><div class="diskWrap dmDiskWrap">
<div class="labelsRow">
<div class="labelBox">
<div class="labelTitle">Windows (despu√©s)</div>
<div class="labelValue" id="labelWindowsAfter">‚Äî</div>
</div>
<div class="labelBox">
<div class="labelTitle">Linux (espacio vac√≠o)</div>
<div class="labelValue" id="labelLinuxSpace">‚Äî</div>
</div>
</div>
<div aria-label="Barra de disco con divisor" class="diskBar" id="diskBar">
<div class="seg seg--win" id="segWin"></div>
<div class="seg seg--linux" id="segLinux"></div>
<div aria-label="Divisor de partici√≥n" aria-valuemax="0" aria-valuemin="0" aria-valuenow="0" class="dividerHandle" id="dividerHandle" role="slider" tabindex="0">
<div aria-hidden="true" class="handleGrip"></div>
</div>
</div>
<div class="mini">
<div class="mini__row">
<span class="mini__k">Tip:</span>
<span class="mini__v">Arrastra el divisor o escribe el valor de ‚ÄúTama√±o a reducir‚Äù.</span>
</div>
<div class="mini__row">
<span class="mini__k">Regla clave:</span>
<span class="mini__v">Nunca podr√°s superar el ‚ÄúEspacio disponible para la reducci√≥n‚Äù.</span>
</div>
</div>
<div aria-live="polite" class="msg" id="statusMsg" role="status"></div>
</div></div></div></div></div></section><section class="card">
<h2>Gu√≠a: ‚ÄúReducir volumen‚Äù (Windows)</h2>

  <div class="edu">
    <div class="edu__item">
      <div class="edu__icon">üìå</div>
      <div>
        <b>¬øQu√© es ‚ÄúReducir volumen‚Äù?</b><br/>
        La opci√≥n <b>Reducir volumen</b> permite disminuir el tama√±o de una partici√≥n existente (por ejemplo, la unidad <b>C:</b>)
        para dejar <b>espacio no asignado</b> en el disco.
        <ul class="eduList">
          <li>Instalar otro sistema operativo (como Linux).</li>
          <li>Crear una nueva partici√≥n para datos.</li>
          <li>Separar el sistema de los archivos personales.</li>
          <li>Organizar mejor el disco.</li>
        </ul>
        <b>No borra archivos autom√°ticamente</b>, pero siempre es recomendable hacer una copia de seguridad antes.
      </div>
    </div>

    <div class="edu__item">
      <div class="edu__icon">1Ô∏è‚É£</div>
      <div>
        <b>Tama√±o total antes de la reducci√≥n (en MB)</b><br/>
        Es el tama√±o actual de la partici√≥n antes de hacer cambios.
      </div>
    </div>

    <div class="edu__item">
      <div class="edu__icon">2Ô∏è‚É£</div>
      <div>
        <b>Espacio disponible para la reducci√≥n (en MB)</b><br/>
        Este punto confunde mucho: <b>no es el espacio libre total</b>.<br/>
        Es el <b>m√°ximo que Windows te permite reducir en ese momento</b> (m√°ximo permitido). A veces este m√°ximo es menor de lo esperado
        porque Windows no puede mover ciertos archivos del sistema mientras est√° en uso (paginaci√≥n, hibernaci√≥n, restauraci√≥n, etc.).
      </div>
    </div>

    <div class="edu__item">
      <div class="edu__icon">3Ô∏è‚É£</div>
      <div>
        <b>Tama√±o del espacio que desea reducir (en MB)</b><br/>
        Aqu√≠ decides cu√°nto quieres reducir. Puedes escribir un valor <b>igual o menor</b> al ‚ÄúEspacio disponible para la reducci√≥n‚Äù.
        Lo que reduzcas quedar√° como <b>espacio no asignado</b>.<br/>
        En esta p√°gina, el panel <b>‚ÄúAdministrador de discos (simulaci√≥n)‚Äù</b> te lo muestra tambi√©n en <b>GB</b> para entenderlo mejor.
      </div>
    </div>

    <div class="edu__item">
      <div class="edu__icon">4Ô∏è‚É£</div>
      <div>
        <b>Tama√±o total despu√©s de la reducci√≥n (en MB)</b><br/>
        Es el tama√±o con el que quedar√° la partici√≥n despu√©s de reducir.<br/>
        <b>Tama√±o antes</b> ‚àí <b>Tama√±o a reducir</b> = <b>Tama√±o despu√©s</b> (y en la simulaci√≥n tambi√©n lo ver√°s en GB).
      </div>
    </div>

    <div class="edu__item">
      <div class="edu__icon">‚úÖ</div>
      <div>
        <b>¬øQu√© pasa despu√©s de ‚ÄúReducir‚Äù?</b><br/>
        En Windows aparecer√° un bloque en negro llamado <b>‚ÄúEspacio no asignado‚Äù</b>.
        Puedes crear una nueva partici√≥n ah√≠, o dejarlo as√≠ para que el instalador de Linux lo use durante la instalaci√≥n.
      </div>
    </div>

    <div class="edu__item">
      <div class="edu__icon">‚ö†Ô∏è</div>
      <div>
        <b>Importante:</b> Esta p√°gina no hace cambios reales en tu disco. Solo simula n√∫meros y proporciones.
      </div>
    </div>
  </div>
</section>
<section class="card">
  <h2>üñ•Ô∏è C√≥mo usar el simulador (con explicaciones muy detalladas)</h2>

  <h3>üìå Paso 1 ‚Äî Abrir Windows</h3>
  <p>En tu computadora:</p>
  <ol>
    <li>Presiona <code>Win + X</code></li>
    <li>Selecciona <b>Administraci√≥n de discos</b></li>
    <li>Clic derecho en la partici√≥n <b>Windows (C:)</b></li>
    <li>Selecciona <b>Reducir volumen‚Ä¶</b></li>
  </ol>

  <p>Windows mostrar√° una ventana con <b>3 valores importantes</b>.</p>

  <hr/>

  <h3>üìã Paso 2 ‚Äî Copiar los primeros dos valores</h3>
  <p>Debes copiar <b>exactamente</b> (en MB y sin puntos ni comas):</p>

  <ul>
    <li>‚úÖ <b>Tama√±o total antes de la reducci√≥n</b></li>
    <li>‚úÖ <b>Espacio disponible para la reducci√≥n</b></li>
  </ul>

  <p>Esos dos valores los ingresas en el simulador web.</p>

  <hr/>

  <h3>üìä Paso 3 ‚Äî Entender la barra del disco</h3>

  <p>Una vez ingresados los dos primeros valores:</p>
  <p>A la derecha aparece la barra de disco simulada.</p>

  <p>En esa barra ver√°s:</p>

  <ul>
    <li>üîµ Zona azul ‚Üí <b>Windows (despu√©s)</b></li>
    <li>‚ö™ Zona gris rayada ‚Üí <b>Espacio vac√≠o para Linux</b></li>
    <li>üéöÔ∏è Un peque√±o control deslizante (divisor)</li>
  </ul>

  <p>
    Ese peque√±o control se llama:<br/>
    <b>Divisor de partici√≥n</b> (o simplemente <i>divisor</i> / <i>handle</i> en t√©rminos t√©cnicos).
  </p>

  <hr/>

  <h3>üéöÔ∏è C√≥mo mover correctamente el divisor</h3>

  <ol>
    <li>Hacer clic sobre el divisor.</li>
    <li>Mantener presionado el clic.</li>
    <li>Arrastrarlo hacia la derecha.</li>
  </ol>

  <p>
    ‚ùó No podr√°s moverlo hacia la izquierda m√°s all√° del l√≠mite 
    (<i>No se puede reducir el espacio asignado m√°s all√° del punto en el que se encuentran los archivos no movibles.</i>)
  </p>

  <hr/>

  <h3>‚ùì ¬øPor qu√© no se puede mover hacia la izquierda?</h3>

  <p>Porque Windows ya hizo su c√°lculo interno.</p>

  <p>
    Windows analiza el disco y detecta archivos que <b>no pueden moverse</b>, por ejemplo:
  </p>

  <ul>
    <li>Archivo de paginaci√≥n (<code>pagefile.sys</code>)</li>
    <li>Hibernaci√≥n</li>
    <li>Metadatos del sistema</li>
    <li>Fragmentos no desplazables</li>
    <li>Estructuras internas del sistema NTFS</li>
  </ul>

  <p>
    Por eso aparece un l√≠mite m√°ximo.
  </p>

  <p>
    Ese l√≠mite es exactamente el valor que Windows muestra como:<br/>
    <b>‚ÄúEspacio disponible para la reducci√≥n‚Äù</b>
  </p>

  <p>
    Ese n√∫mero es el m√°ximo que Windows permite reducir en ese momento.
  </p>

  <p>
    <b>Excepto que.-</b> uses un software de partici√≥n de terceros que puede reducir un volumen o partici√≥n de archivos inamovibles (los mueve autom√°ticamente) a trav√©s de la funci√≥n Redimensionar partici√≥n, como lo hace 
    <a href="https://www.diskpart.com/es/articles/reducir-volumen-con-archivos-inamovibles-7400-tc.html" target="_blank">
      AOMEI Partition Assistant
    </a>.
  </p>

  <p>
    Pero sin embago, esto para personas sin experiencia podr√≠a ser peligroso, y no quiero llevarlos a hacer cosas sin entender los riezgos, ese es un programa que lo pongo aqu√≠ porque yo lo he usado, solo que para usarlo hay que entender bien lo que se hace, hay que tener una capacitaci√≥n, y es imprescindible sacar un respaldo. En Youtube hay videos donde explican c√≥mo usarlo. Lo que no me gusta es que se demora mucho en todo el proceso de reducci√≥n y m√°s r√°pido es usar el programa de Windows mismo.
  </p>

  <hr/>

  <h3>üìã Bot√≥n ‚ÄúCopiar‚Äù</h3>

  <p>
    El campo:
  </p>

  <blockquote>
    ‚ÄúTama√±o del espacio que desea reducir, en MB‚Äù
  </blockquote>

  <p>
    incluye un bot√≥n <b>Copiar</b>.
  </p>

  <ul>
    <li>Copia el valor autom√°ticamente al portapapeles.</li>
    <li>Permite pegarlo directamente en la ventana real de Windows.</li>
  </ul>

  <hr/>

  <h3>üì± Uso en m√≥vil</h3>

  <ul>
    <li>En computadoras ‚Üí se muestra en dos columnas.</li>
    <li>En celular ‚Üí todo se muestra en una sola columna.</li>
  </ul>

  <p>
    Primero aparece el simulador y debajo el resultado.
  </p>

  <hr/>

  <h3>üõ†Ô∏è C√≥mo est√° construido</h3>

  <ul>
    <li>HTML</li>
    <li>CSS (estilo visual tipo Windows 10)</li>
    <li>JavaScript (l√≥gica del divisor y c√°lculos)</li>
    <li>Clipboard API para copiar valores</li>
  </ul>

  <p>No requiere backend ni instalaci√≥n.</p>

  <hr/>

  <h3>üìò Concepto importante</h3>

  <p>
    Muchas personas creen que si tienen, por ejemplo:
  </p>

  <p><b>Espacio libre: 250 GB</b></p>

  <p>
    Podr√°n reducir 250 GB completos.
  </p>

  <p>
    Windows no solo mira cu√°nto espacio libre hay.
    Tambi√©n revisa d√≥nde est√°n ubicados los archivos dentro del disco.
    Si hay archivos importantes al final del disco, no podr√° reducir m√°s all√° de ellos.
  </p>

  <p>
    Eso es lo que este simulador ayuda a entender visualmente.
  </p>

  <hr/>

  <h3>‚ö†Ô∏è Explicaci√≥n de la advertencia oficial de Microsoft</h3>

  <p>
    La 
    <a href="https://learn.microsoft.com/es-es/windows-server/storage/disk-management/shrink-a-basic-volume" target="_blank">
      documentaci√≥n de Microsoft
    </a>
    incluye la siguiente advertencia:
  </p>

  <blockquote>
    "Si la partici√≥n es una partici√≥n sin formato que contiene datos, como un archivo de base de datos, reducirla podr√≠a destruir los datos".
  </blockquote>

  <p><b>¬øQu√© significa esto?</b></p>

  <p>
    Esta advertencia se refiere espec√≠ficamente a las <b>particiones sin formato reconocible por Windows</b>, es decir, no se refiere al "Disco C:" que un usuario normal usa, sino a otra partici√≥n que no est√° formateada como NTFS
  </p>

  <p><b>Ejemplo t√≠pico en servidores:</b></p>

  <ul>
    <li>El administrador crea un disco adicional.</li>
    <li>Ese disco NO se formatea con NTFS.</li>
    <li>Se entrega directamente al motor de base de datos.</li>
    <li>SQL Server escribe datos directamente a nivel de bloque.</li>
  </ul>

  <p>En ese caso:</p>

  <ul>
    <li>Windows no ve archivos.</li>
    <li>No hay MFT (Tabla Maestra de Archivos)</li>
    <li>No hay estructura NTFS.</li>
    <li>El volumen aparece como RAW.</li>
  </ul>

  <p>
    Pero SQL Server s√≠ sabe qu√© bloques contienen datos.
  </p>

  <p>
    Una partici√≥n sin formato es una partici√≥n que:
  </p>

  <ul>
    <li>No utiliza un sistema de archivos reconocido (NTFS, FAT32, exFAT).</li>
    <li>Es utilizada directamente por software especializado a nivel de bloque.</li>
    <li>Usa un formato no reconocible para Windows (como tambi√©n puede ser las particiones de Linux, ej: ext4, y otras).</li>
  </ul>

  <p><b>¬øPor qu√© la reducci√≥n podr√≠a destruir datos?</b></p>

  <p>Al reducir una partici√≥n NTFS normal, Windows:</p>

  <ol>
    <li>Lee los metadatos del sistema de archivos (MFT).</li>
    <li>Sabe d√≥nde se encuentran los archivos.</li>
    <li>Mueve los archivos movibles si es necesario.</li>
    <li>Reduce el tama√±o de la partici√≥n de forma segura.</li>
  </ol>

  <p>Sin embargo, en una partici√≥n RAW:</p>

  <ul>
    <li>No existe una estructura de sistema de archivos.</li>
    <li>Windows no puede identificar qu√© bloques contienen datos cr√≠ticos.</li>
    <li>La operaci√≥n de reducci√≥n puede atravesar bloques de datos activos.</li>
    <li>Esto puede provocar una p√©rdida irreversible de datos.</li>
  </ul>

  <p><b>¬øAplica esto a usuarios dom√©sticos t√≠picos?</b></p>

  <p>
    Si est√° reduciendo:
  </p>

  <ul>
    <li>La partici√≥n del sistema de Windows (C:)</li>
    <li>Una partici√≥n de datos NTFS est√°ndar</li>
  </ul>

  <p>
    Esta advertencia no se aplica.
  </p>

  <p>
    Se refiere principalmente a:
  </p>

  <ul>
    <li>Servidores de bases de datos que utilizan almacenamiento sin procesar</li>
    <li>Sistemas industriales</li>
    <li>Sistemas integrados</li>
    <li>Configuraciones de almacenamiento especializadas</li>
  </ul>

  <p><b>Pr√°ctica recomendada</b></p>

  <ul>
    <li>Realizar una copia de seguridad de los datos importantes (Ej: Tesis, tareas, deberes, trabajos, diarios, ediciones de audio, video, etc).</li>
    <li>Garantizar la estabilidad del sistema.</li>
    <li>Evitar interrupciones de energ√≠a durante la operaci√≥n.</li>
  </ul>

  <p>
    Los cambios en la partici√≥n del disco modifican la estructura del dispositivo de almacenamiento, y fallos inesperados (como un corte de energ√≠a) pueden causar da√±os.
  </p>

  <p>
    Si se corta la energ√≠a el√©ctrica mientras Windows est√° reduciendo el volumen:
  </p>

  <ul>
    <li>El sistema podr√≠a dejar de arrancar.</li>
    <li>La partici√≥n podr√≠a da√±arse.</li>
    <li>Se podr√≠an perder archivos.</li>
  </ul>

  <p>
    Por eso es recomendable:
  </p>

  <ul>
    <li>Usar una laptop con bater√≠a cargada.</li>
    <li>O tener un UPS si es computadora de escritorio.</li>
  </ul>

</section>
</main>
<footer class="siteFooter">
  <!-- Franja con arte -->
  <div class="siteFooter__art">
    <div class="siteFooter__artInner">
      <img
        class="siteFooter__artImg"
        src="./Tux-en-la-barra-de-disco-simulada.png"
        alt="Robot colocando a Tux en el espacio no asignado"
        loading="lazy"
      />
    </div>
  </div>

  <!-- Barra inferior con info + links -->
  <div class="siteFooter__bottom">
    <div class="siteFooter__bottomInner">

      <div class="siteFooter__left">
        <div class="siteFooter__headline">¬øTe sirvi√≥ el simulador?</div>
        <div class="siteFooter__desc">
          Haz <b>fork</b>, traduce o mejora el proyecto. ¬°Aportes bienvenidos!
        </div>

        <a class="siteFooter__repo"
           href="https://github.com/wachin/reducir-disco"
           target="_blank" rel="noopener">
          Ver c√≥digo fuente en GitHub ‚Üí
        </a>

        <div class="siteFooter__meta">
          <span>¬© 2026 <b>Washington Indacochea Delgado</b></span>
          <span>Licencia: <b>GPL-3.0</b></span>
          <a class="siteFooter__mail" href="mailto:linuxfrontier@proton.me">linuxfrontier@proton.me</a>
        </div>
      </div>

      <div class="siteFooter__right">
        <div class="siteFooter__follow">Encu√©ntrame en</div>

        <div class="socialRow">
          <a class="socialBtn"
             href="https://facilitarelsoftwarelibre.blogspot.com/"
             target="_blank" rel="noopener"
             aria-label="Blog (Blogger)">
            <img src="./blogger-icon.png" alt="Blogger">
          </a>

          <a class="socialBtn"
             href="https://www.facebook.com/wachin.id"
             target="_blank" rel="noopener"
             aria-label="Facebook">
            <img src="./facebook-icon.png" alt="Facebook">
          </a>

          <a class="socialBtn"
             href="https://www.youtube.com/@WashingtonIndacocheaDeldago"
             target="_blank" rel="noopener"
             aria-label="YouTube">
            <img src="./youtube-icon.png" alt="YouTube">
          </a>
        </div>
      </div>

    </div>
  </div>
</footer>
<script src="./app.js"></script>
</body>
</html>
